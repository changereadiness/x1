<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Change Readiness Checkpoint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f4f4f4;
      color: #111;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 760px;
      margin: 40px auto;
      background: #fff;
      padding: 36px;
      border-radius: 10px;
      box-shadow: 0 12px 32px rgba(0,0,0,0.08);
    }

    h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    h2 {
      margin-top: 0;
    }

    p {
      line-height: 1.6;
    }

    .muted {
      color: #555;
      font-size: 14px;
    }

    .question {
      margin: 26px 0;
    }

    .question label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .question select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
    }

    button {
      padding: 12px 18px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }

    .primary {
      background: #111;
      color: #fff;
    }

    .secondary {
      background: #e5e5e5;
      color: #111;
    }

    .actions {
      margin-top: 32px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .hidden {
      display: none;
    }

    input[type="email"] {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin: 12px 0;
    }

    .divider {
      margin: 36px 0;
      border-top: 1px solid #ddd;
    }

    .signal {
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-weight: 600;
    }

    .signal.high {
      background: #fbeaea;
      color: #8a1f1f;
    }

    .signal.low {
      background: #eef6ee;
      color: #1f6b2e;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- INTRO -->
    <div id="intro">
      <h1>Change Readiness Checkpoint</h1>
      <p>
        A fast diagnostic to surface early signals that quietly derail change initiatives.
      </p>
      <p class="muted">⏱️ Takes ~1 minute</p>
      <button class="primary" onclick="startAssessment()">Start checkpoint</button>
    </div>

    <!-- ASSESSMENT -->
    <div id="assessment" class="hidden">
      <div id="questions"></div>

      <div class="actions" id="depthActions">
        <button class="primary" onclick="showResults()">Get my results</button>
        <button class="secondary" onclick="revealMore()">Answer a few more questions (~2 min)</button>
      </div>
    </div>

    <!-- RESULTS -->
    <div id="results" class="hidden">
      <h1>Your checkpoint signal</h1>

      <div id="signalBox" class="signal"></div>

      <p id="resultMessage"></p>

      <div class="divider"></div>

      <h2>Go one step further</h2>
      <p>
        Leave your email and I’ll personally review your responses and follow up
        if there’s value in going deeper.
      </p>

      <form
        action="https://formspree.io/f/REPLACE_ME"
        method="POST"
      >
        <input type="email" name="email" required placeholder="Your email address" />
        <input type="hidden" name="signal" id="signalField" />
        <button class="primary" type="submit">Submit</button>
      </form>

      <div class="actions">
        <button class="secondary" onclick="resetAssessment()">Retake checkpoint</button>
      </div>
    </div>

  </div>

<script>
  const baseQuestions = [
    "Is there a single formally accountable owner for this change?",
    "Is the purpose of the initiative clearly articulated?",
    "Are key stakeholders aligned on the intended outcome?",
    "Is leadership visibly supporting the initiative?",
    "Are roles and decision rights clearly defined?"
  ];

  const extraQuestions = [
    "Are execution risks openly discussed today?",
    "Is success defined beyond delivery milestones?",
    "Do impacted teams understand what will change for them?",
    "Are resources realistically allocated?",
    "Is feedback actively incorporated into decisions?"
  ];

  let score = 0;

  function startAssessment() {
    document.getElementById("intro").classList.add("hidden");
    document.getElementById("assessment").classList.remove("hidden");
    loadQuestions(baseQuestions);
  }

  function loadQuestions(questions) {
    const container = document.getElementById("questions");
    questions.forEach(q => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `
        <label>${q}</label>
        <select onchange="updateScore(this.value)">
          <option value="">Select…</option>
          <option value="2">Yes</option>
          <option value="1">Somewhat</option>
          <option value="0">No</option>
        </select>
      `;
      container.appendChild(div);
    });
  }

  function updateScore(value) {
    if (value !== "") score += parseInt(value);
  }

  function revealMore() {
    loadQuestions(extraQuestions);
    document.getElementById("depthActions").classList.add("hidden");
  }

  function showResults() {
    document.getElementById("assessment").classList.add("hidden");
    document.getElementById("results").classList.remove("hidden");

    const signalBox = document.getElementById("signalBox");
    const message = document.getElementById("resultMessage");
    const signalField = document.getElementById("signalField");

    if (score < 12) {
      signalBox.className = "signal high";
      signalBox.innerText = "⚠️ Elevated risk signal detected";
      message.innerText =
        "Your responses surface conditions that commonly undermine execution if left unexamined. These signals are often invisible early — and costly later.";
      signalField.value = "Elevated risk";
    } else {
      signalBox.className = "signal low";
      signalBox.innerText = "✓ Generally stable starting position";
      message.innerText =
        "Your responses suggest a stable foundation, with a few areas that deserve a second look before scale and commitment increase.";
      signalField.value = "Generally stable";
    }
  }

  function resetAssessment() {
    location.reload();
  }
</script>

</body>
</html>
